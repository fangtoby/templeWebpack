webpackJsonp([9],[function(e,t,n){var a;(function(o){a=function(e){function t(e,t){var n=i.selectData();n&&a.Postdata(e,n,function(){t&&t()},function(e){i.fresh()})}var a=n(2),i={baseurl:{home:"/mobile"},msg:{mobile:"请输入手机号码",captcha:"请输入验证码",password:"请输入登录密码",password_confirmation:"请确认登录密码",passwordEmpty:"密码不能包含空格",code:"请输入动态码",diffpw:"两次输入的登录密码不一致",reg:"注册成功",login:"登录成功",reged:"手机号已被使用",relname:"请输入昵称",protocol:"您未同意邻里学堂服务协议",reg_success:"注册成功，三秒后跳转到首页",reset_success:"重置密码成功，三秒后跳转到首页"},config:{times:60},checkMobile:function(e){a.Getdata(a.url.checkmobile,{mobile:e})},fresh:function(){var e=o("#fresh").parents("li");e.find("input").val(""),e.find("img").attr("src",a.url.captcha+Math.random())},selectData:function(){var e={},t=!1;return o(".data").each(function(){var n=o(this),c=n.attr("name"),r=n.attr("type");switch(r){case"text":case"tel":case"password":if(o("#form").find(".msg").remove(),1==n.attr("must")&&""==o.trim(n.val()))return t=!1,a.alertPop(i.msg[c]),!1;t=!0,e[c]=o.trim(n.val());break;case"checkbox":n.is(":checked")?(e[c]=!0,t=!0):(e[c]=!1,t=!1,a.alertPop(i.msg[c]))}}),!!t&&e}};document.getElementById("fresh")&&document.getElementById("fresh").addEventListener("touchstart",function(){i.fresh()}),document.getElementById("show")&&document.getElementById("show").addEventListener("touchstart",function(e){var t=o("#show"),n=t.parent(),a=n.find("input"),i=a.attr("type");"password"===i?(a.attr("type","text"),t.find(".icon").addClass("active")):(a.attr("type","password"),t.find(".icon").removeClass("active"))}),document.getElementById("clearTxt")&&document.getElementById("clearTxt").addEventListener("touchstart",function(e){var t=o("#clearTxt");t.parent().find("input").val("")}),document.getElementById("link-deal")&&(o("#link-deal").click(function(){o("#deal").show(),o("body, html").css("overflow","hidden"),setTimeout(function(){o("#deal").addClass("active")},10)}),o("#deal").click(function(){o("#deal").removeClass("active"),o("body, html").css("overflow","initial"),setTimeout(function(){o("#deal").hide()},300)})),i.login=function(){var e=i.selectData();e&&a.Postdata(a.url.login,e,function(){location.pathname=i.baseurl.home},function(e){i.fresh()})},o("#login").click(function(){i.login()}),i.reg=function(){t(a.url.reg,function(){a.alertPop(i.msg.reg_success),setTimeout(function(){location.pathname=i.baseurl.home},3e3)})},o("#reg").click(function(){i.reg()}),i.forget=function(){t(a.url.forget,function(){a.alertPop(i.msg.reset_success),setTimeout(function(){location.pathname=i.baseurl.home},3e3)})},o("#forget").click(function(){i.forget()});var c=g_param.pagetype;document.onkeydown=function(e){if(13==e.keyCode){switch(c){case"login":i.login();break;case"register":i.reg();break;case"forget":i.forget()}return!1}};var r=!0;o("#code").click(function(){var e=o("input[name=mobile]").val(),t=o("input[name=captcha]").val(),n=o(this);e&&t?r&&a.Postdata(a.url.sms,{mobile:e,code:t,kind:"register"===g_param.pagetype?1:3},function(){r=!1,n.addClass("disabled"),n.html("<span>"+i.config.times+"</span>秒后重发");var e=i.config.times,t=setInterval(function(){e--,n.find("span").html(e)},1e3);setTimeout(function(){clearInterval(t),r=!0,n.removeClass("disabled"),n.html("获取动态码"),i.fresh()},1e3*i.config.times)}):a.alertPop(e?i.msg.captcha:i.msg.mobile)}),o("#form").on("input","input",function(e){var t=o(this),n=t.val();"register"===g_param.pagetype&&"mobile"===t.attr("name")&&11==n.length&&i.checkMobile(n)})}.call(t,n,t,e),!(void 0!==a&&(e.exports=a))}).call(t,n(1))}]);