webpackJsonp([8],[function(a,i,t){var s;(function(e){s=function(a){var i=t(2),s={g_param:{cid:0,school:0,professional:0,page:1},msg:{end:"已加载完毕",more:"点击加载更多"},courselist:function(a){var t=this,s=e("#lessonsbox");1==t.g_param.page?s.html('<li id="more">'+i.loading+"</li>"):e("#more").html(i.loading),i.Getdata(i.url.courselist,{cid:t.g_param.cid,school:t.g_param.school,professional:t.g_param.professional,page:t.g_param.page},function(a){var a=a.data.list,e="",l=a.data.length,c=Math.ceil(a.total/a.per_page);if(l>0){for(var o=0;o<l;o++)e+='<li class="it clearfix"><a href="'+i.g_param.lessons_detail_baseUrl+a.data[o].id+'"><div class="fl pic"><img src="'+a.data[o].image+'" /></div><div class="fl info"><p class="title">'+a.data[o].title+'</p><p class="teacher"><em class="icon icon-teacher"></em><span>'+a.data[o].teacher+'</span><i class="label">'+a.data[o].category.title+'</i></p><p class="creatime">'+a.data[o].updatedAt+"</p></div></a></li>";e+='<li id="more"><div><a href="javascript:void(0)">'+(t.g_param.page==c?t.msg.end:t.msg.more)+"</a></div></li>",s.find("#more").remove(),s.append(e)}else s.find("#more").html(t.msg.end)})},category:function(){var a=e("#category");i.Getdata(i.url.category,{},function(i){for(var t=i.data.list,s='<li class="it" id="0" data-type="cid"><a class="see" href="javascript:void(0)">全部课程</a></li>',e=0;e<t.length;e++)s+='<li class="it" id="'+t[e].id+'" data-type="cid"><a class="see" href="javascript:void(0)">'+t[e].title+"</a></li>";a.find("ul").html(s),a.find("li").eq(0).addClass("active")})},school:function(){var a=e("#school");i.Getdata(i.url.schoolclass,{},function(i){for(var t=i.data.list,s='<li class="it active" id="0" data-type="school"><a class="see" href="javascript:void(0)">全部学校</a></li>',e="",l=0;l<t.length;l++)e=JSON.stringify(t[l].professional),s+='<li class="it" id="'+t[l].id+'" data-type="school"><a class="see" href="javascript:void(0)">'+t[l].schoolname+'</a><span class="dataholder">'+e+"</span></li>";a.find(".first").html(s)})},init:function(){var a=this;a.category(),a.school(),a.courselist();var i=e("#class");i.find("a").click(function(){var a=e(this),t=a.parent(),s=t.data("type");i.find("li").removeClass("active"),t.addClass("active"),e(".class").hide(),e("#"+s).slideDown(),e(".xct-container").css("position","fixed")}),e(document).on("click",".see",function(){var t=e(this).parent(),s=t.parent(),l=t.data("type");s.find("li").removeClass("active"),t.addClass("active"),e(".xct-container").css("position","relative"),s.parents(".class").slideUp(),a.g_param[l]=t.attr("id"),a.g_param.page=1,a.courselist();var c=i.find("li[data-type="+s.parent().attr("id")+"]");c.find("i").text(e(this).text()),c.removeClass("active")}).on("click","#more a",function(){a.g_param.page++,a.courselist()})}};s.init()}.call(i,t,i,a),!(void 0!==s&&(a.exports=s))}).call(i,t(1))}]);